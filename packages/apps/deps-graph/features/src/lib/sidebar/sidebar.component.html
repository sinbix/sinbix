<div class="sidebar-content">
  <ng-container *ngIf="focusedProject$ | async">
    <div class="sidebar-section">
      <h4>Focused on {{ focusedProject$ | async }}</h4>
      <button mat-stroked-button [color]="'warn'" (click)="unfocusProject()">
        Unfocus
      </button>
    </div>
  </ng-container>

  <div class="sidebar-section">
    <h4>Display Options</h4>
    <div class="flex">
      <button
        id="select-affected-button"
        (click)="selectAffectedProjects()"
        class="hide"
      >
        Select Affected
      </button>
      <button mat-raised-button color="primary" (click)="selectAllProjects()">
        Select All
      </button>
      <button mat-raised-button color="primary" (click)="deselectAllProjects()">
        Deselect All
      </button>
    </div>
  </div>
  <div class="sidebar-section">
    <div class="flex">
      <form [formGroup]="searchFilterForm" class="filter-form">
        <mat-form-field class="search">
          <input
            [formControlName]="'search'"
            matInput
            placeholder="Search filter"
            autocomplete="off"
          />
          <mat-hint>Use comma for splitting!</mat-hint>
        </mat-form-field>
        <div class="checkbox-path-container">
          <mat-checkbox [formControlName]="'includeInPath'"
            >include projects in path</mat-checkbox
          >
        </div>
      </form>
    </div>
  </div>
  <deps-graph-ui-project-list
    [projectGroups]="projectGroups$ | async"
    [activeProjects]="activedProjects$ | async"
    [focusedProject]="focusedProject$ | async"
    (toggleActiveEvent)="onToggleActive($event)"
    (focusEvent)="onFocus($event)"
  ></deps-graph-ui-project-list>
</div>
