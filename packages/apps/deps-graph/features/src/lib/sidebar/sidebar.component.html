<ng-container *ngIf="focusedProject$ | async">
  <div class="sidebar-section">
    <h4>Focused on {{ focusedProject$ | async }}</h4>
    <button mat-stroked-button [color]="'warn'" (click)="unfocusProject()">
      Unfocus
    </button>
  </div>
</ng-container>

<div class="sidebar-section">
  <h4>Display Options</h4>
  <div class="select-buttons">
    <button
      mat-raised-button
      class="_primary"
      (click)="selectAffectedProjects()"
    >
      Select Affected
    </button>
    <button mat-raised-button class="_primary" (click)="selectAllProjects()">
      Select All
    </button>
    <button mat-raised-button class="_primary" (click)="deselectAllProjects()">
      Deselect All
    </button>
  </div>
</div>

<div class="sidebar-section">
  <form class="filter-form" [formGroup]="searchFilterForm">
    <mat-form-field class="search">
      <input
        matInput
        placeholder="Search filter"
        autocomplete="off"
        [formControlName]="'search'"
      />
      <mat-hint>Use comma for splitting!</mat-hint>
    </mat-form-field>
    <mat-checkbox [formControlName]="'includeInPath'"
      >include projects in path</mat-checkbox
    >
  </form>
</div>

<deps-graph-ui-project-list
  [projectGroups]="projectGroups$ | async"
  [activeProjects]="activedProjects$ | async"
  [focusedProject]="focusedProject$ | async"
  (toggleActiveEvent)="onToggleActive($event)"
  (focusEvent)="onFocus($event)"
></deps-graph-ui-project-list>
